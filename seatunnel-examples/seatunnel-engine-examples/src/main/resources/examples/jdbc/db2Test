env {
  parallelism = 1
  job.mode = "BATCH"
  job.retry.times = 0
}

source {
  MappingJdbc {
    driver = "com.ibm.db2.jcc.DB2Driver"
	partition_column = "ID"
	partition_num = 1
	fetch_size = 5000
	table_path = "DB2INST1.ALL_TYPES_TABLE"
    url = "jdbc:db2://10.28.23.227:50000/testdb"
    user = "db2inst1"
    password = "xugu123"
    query = """ SELECT * from DB2INST1.ALL_TYPES_TABLE """
	result_table_name = "aaa"
  }
}


sink {
	MappingJdbc {
		database = "testdb"
		table = "DB2INST1.ALL_TYPES_TABLE2"
		batch_size = 5000
		generate_sink_sql = true
		primary_keys = ["ID"]
		source_table_name = "aaa"
		data_save_mode = "DROP_DATA"
		schema_save_mode = "ERROR_WHEN_SCHEMA_NOT_EXIST"
		enable_upsert = true
        driver = "com.ibm.db2.jcc.DB2Driver"
        url = "jdbc:db2://10.28.23.227:50000/testdb"
        user = "db2inst1"
        password = "xugu123"
	}
}